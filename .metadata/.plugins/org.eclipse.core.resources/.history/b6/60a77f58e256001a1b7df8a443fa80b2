package truong.nguyen.spring_boot_api.core;

import org.apache.log4j.Logger;
import truong.nguyen.spring_boot_api.connection.ConnectionManager;
import truong.nguyen.spring_boot_api.connection.database.ConnectionPool;
import truong.nguyen.spring_boot_api.log.LogFactory;

import java.sql.Connection;

public abstract class AbsThread extends Thread {
    protected static Logger logger = LogFactory.getInstance().getLogger(AbsThread.class);
    protected Connection conn;

    public void run(){
        try{
            conn = ConnectionPool.getInstance().getConnectionT().getConnection();
            execute();
            conn.close();
        }
        catch (Exception ex){
            logger.debug(ex);
        }

    }

    protected abstract void execute() throws Exception;
}
