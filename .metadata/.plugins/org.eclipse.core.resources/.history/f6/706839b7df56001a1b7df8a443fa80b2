package truong.nguyen.spring_boot_api.connection.database;



import lombok.Data;

import java.sql.Connection;
import java.sql.DriverManager;
@Data
public class ConnectionT {
    private Connection connection;
    private long relax_time;
    private long time_out;

    public ConnectionT(String url,String user,String password,long time_out) throws Exception{
        connection = DriverManager.getConnection(url,user,password);
        relax_time = System.currentTimeMillis();
        this.time_out = time_out;
    }

    public boolean isTimeOut(){
        if(System.currentTimeMillis()-relax_time> time_out){
            return true;
        }
        return false;
    }

    public void close() throws Exception{
        connection.close();
    }

    public boolean isClose() throws Exception{
        return connection.isClosed();
    }
}
