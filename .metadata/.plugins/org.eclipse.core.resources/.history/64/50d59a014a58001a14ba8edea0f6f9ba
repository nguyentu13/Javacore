package com.xtel.vngofl.api.controller.channels.core;

import javax.servlet.http.HttpServletRequest;

import com.xtel.gamehit.api.controler.base.AbsApiBaseParamReqTypeCmd;
import com.xtel.gamehit.api.listener.response.BaseResp;
import com.xtel.gamehit.api.listener.response.EnumRsCode;
import com.xtel.gamehit.api.listener.response.data.BasicPagingData;
import com.xtel.gamehit.api.model.cmd.DbCmsUserCmsGetListCmd;

public class UserCmsGetListCmd extends AbsApiBaseParamReqTypeCmd {

	private int user_id;
	private int page_index;
	private int page_size;
	private String user_name;
	private String full_name;
	private String email;
	private String phone;
	private String address;
	private String unit;
	private int status;
	private String order_by;

	public UserCmsGetListCmd(HttpServletRequest httpServletRequest, String channel, String transid, int page_index, int page_size,
			String user_name, String full_name, String email, String phone, String address, String unit, int status,
			String order_by) {
		super(httpServletRequest, channel, transid);
		this.page_index = page_index;
		this.page_size = page_size;
		this.user_name = user_name;
		this.full_name = full_name;
		this.email = email;
		this.phone = phone;
		this.address = address;
		this.unit = unit;
		this.status = status;
		this.order_by = order_by;

	}

	@Override
	protected void executeCmd() throws Exception {

		
		DbCmsUserCmsGetListCmd dbCmd = new DbCmsUserCmsGetListCmd(transid, channel, getUserCmsLoginId(), page_index,
				page_size, user_name, full_name, email, phone, address, unit, status, order_by);

		executeDbCmd(dbCmd);
		if (EnumRsCode.SUCCESS.getCode() == dbCmd.getCode()) {
			objResponse = new BaseResp(dbCmd.getCode(), dbCmd.getMessage(),
					new BasicPagingData(dbCmd.getPageInfo(), dbCmd.getLsUser()));
			return;
		}

		objResponse = new BaseResp(dbCmd.getCode(), dbCmd.getMessage());
	}
	@Override
	protected boolean validateData() {
		if (page_index < 0 || page_size < 0 ) {
			objResponse = new BaseResp(EnumRsCode.REQUEST_INVALID.getCode(), EnumRsCode.REQUEST_INVALID.getMessage());
			return false;
		}
		return true;
	}
	
	@Override
	public String toString() {
		return super.toString() + ", [user_id=" + user_id + ", page_index=" + page_index + ", page_size=" + page_size
				+ ", user_name=" + user_name + ", full_name=" + full_name + ", email=" + email + ", phone=" + phone
				+ ", address=" + address + ", unit=" + unit + ", status=" + status + ", order_by=" + order_by + "]";
	}

}
