package truong.nguyen.spring_boot_api.log;


import org.apache.log4j.Logger;
import org.apache.log4j.PropertyConfigurator;

import java.io.File;
import java.io.FileInputStream;

public class LogFactory {
    private static LogFactory ins;
    private LogFactory(){}
    public synchronized static LogFactory getInstance(){
        if(ins == null){
            ins = new LogFactory();
        }
        return ins;
    }

    private static final String path = new File("src/main/resources/log4j.properties").getAbsolutePath();

    public Logger getLogger(Class clazz){
        Logger logger = Logger.getLogger(clazz.getName());
        try{
            PropertyConfigurator.configure(new FileInputStream(path));
        }
        catch (Exception ex){
            System.out.println(ex);
        }
        return logger;
    }
}
